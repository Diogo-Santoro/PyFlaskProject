<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Sistema de E-commerce{% endblock %}</title>

    <!-- Importar o arquivo CSS corretamente -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">

    <!-- Adicionar ícones do Bootstrap -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.8.1/font/bootstrap-icons.min.css">

    <!-- Importar o Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="menu-hidden">

<!-- Botão de Hambúrguer (menu-icon.svg) para esconder/mostrar o menu -->
<div id="menuToggle" class="menu-toggle">
    <img src="{{ url_for('static', filename='images/menu-icon.svg') }}" alt="Menu" width="30" id="menuIcon">
</div>

<div class="container-fluid">
    <div class="row flex-nowrap">
        <!-- Menu Lateral Fixo -->
        <div class="col-auto col-md-3 col-xl-2 px-sm-2 px-0 bg-dark" id="sidebarMenu">
            <div class="d-flex flex-column align-items-center align-items-sm-start px-3 pt-5 text-white min-vh-100">
                
                <!-- Adicionar a opção "Home" com o ícone de casinha -->
                <ul class="nav nav-pills flex-column mb-sm-auto mb-0 align-items-center align-items-sm-start" id="menu">
                    <!-- Ícone de "Início" com margem inferior -->
                    <li class="nav-item mb-4">  <!-- Adicionada margem inferior "mb-4" -->
                        <a href="{{ url_for('index') }}" class="nav-link align-middle px-0">
                            <i class="bi-house fs-4"></i> <span class="ms-1 d-none d-sm-inline">Início</span>
                        </a>
                    </li>
                    <!-- Link para Categorias -->
                    <li>
                        <a href="{{ url_for('categoria.listar_categorias') }}" class="nav-link align-middle px-0">
                            <i class="fs-4 bi-tag"></i> <span class="ms-1 d-none d-sm-inline">Categorias</span>
                        </a>
                    </li>
                    <!-- Link para Produtos -->
                    <li class="nav-item">
                        <a href="{{ url_for('produto.listar_produtos') }}" class="nav-link align-middle px-0">
                            <i class="fs-4 bi-grid"></i> <span class="ms-1 d-none d-sm-inline">Produtos</span>
                        </a>
                    </li>
                    <!-- Link para Clientes -->
                    <li>
                        <a href="{{ url_for('cliente.listar_clientes') }}" class="nav-link px-0 align-middle">
                            <i class="fs-4 bi-people"></i> <span class="ms-1 d-none d-sm-inline">Clientes</span>
                        </a>
                    </li>
                    <!-- Link para Pedidos -->
                    <li>
                        <a href="{{ url_for('pedido.listar_pedidos') }}" class="nav-link px-0 align-middle">
                            <i class="fs-4 bi-table"></i> <span class="ms-1 d-none d-sm-inline">Pedidos</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <!-- Conteúdo principal que será trocado dinamicamente -->
        <div class="col py-5 px-4" id="contentArea">
            {% block content %}{% endblock %}
        </div>
    </div>
</div>

<!-- Exibir mensagens flash -->
{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        <div class="container mt-3">
            {% for category, message in messages %}
                <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% endfor %}
        </div>
    {% endif %}
{% endwith %}

<!-- Importar o arquivo JavaScript corretamente -->
<script src="{{ url_for('static', filename='js/base.js') }}"></script>

<!-- Importar o Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
